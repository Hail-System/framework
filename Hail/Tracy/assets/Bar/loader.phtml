<?php

/**
 * Debug Bar loader template.
 *
 * It uses Font Awesome by Dave Gandy - http://fontawesome.io
 *
 * This file is part of the Tracy (https://tracy.nette.org)
 * Copyright (c) 2004 David Grudl (https://davidgrudl.com)
 */

namespace Hail\Tracy;

$nonceAttr = $nonce ? " nonce='$nonce' " : '';
?>
<!-- Tracy Debug Bar -->
<div id="tracy-debug" data-id="<?= htmlspecialchars($contentId) ?>" data-nonce="<?= $nonce ?>"></div>
<?php if ($contentId): ?>
<script<?= $nonceAttr ?> src="?_tracy_bar=<?= urlencode("content.$contentId") ?>&amp;XDEBUG_SESSION_STOP=1"></script>
<?php else: ?>
<script<?= $nonceAttr ?> src="?_tracy_bar=js&amp;v=<?= urlencode(Debugger::VERSION) ?>&amp;XDEBUG_SESSION_STOP=1"></script>
<script<?= $nonceAttr ?>>
    Tracy.Debug.init(<?= json_encode($content) ?>, <?= json_encode($dumps) ?>);
</script>
<?php endif ?>